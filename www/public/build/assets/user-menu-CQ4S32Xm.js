document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("userMenu"),n=document.getElementById("userTrigger"),o=document.getElementById("userDropdown");if(!e||!n||!o)return;const s=()=>{e.classList.remove("is-open"),n.setAttribute("aria-expanded","false")},d=t=>{t.stopPropagation(),e.classList.contains("is-open")?s():(e.classList.add("is-open"),n.setAttribute("aria-expanded","true"))};n.addEventListener("click",d),document.addEventListener("click",t=>{e.contains(t.target)||s()}),document.addEventListener("keydown",t=>{t.key==="Escape"&&s()})});
